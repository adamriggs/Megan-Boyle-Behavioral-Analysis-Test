// com.app.Login_Screen// Adam Riggs//package com.app {	import flash.display.Sprite;	import flash.events.*;	import flash.text.TextField;	import flash.display.MovieClip;		import gs.TweenLite;		import com.adam.utils.AppData;	import com.adam.events.MuleEvent;		public class Login_Screen extends Sprite {				private var appData:AppData=AppData.instance;				public var participant_id:TextField;		public var submit_btn:MovieClip;		public var wait:MovieClip;		public var fail:MovieClip;				private var tweenTime:Number;				public function Login_Screen(){						init();		}		//*****Initialization Routines				public function init(){			//this.visible = false;			trace("Login_Screen() init");						wait.visible=false;			wait.alpha=0;			fail.visible=false;			fail.alpha=0;			initText();			initSubmit();		}				private function initText():void{			participant_id.text="";		}				private function initSubmit():void{			tweenTime=.1;			submit_btn.over.alpha=0;			submit_btn.hot.buttonMode=true;			submit_btn.hot.addEventListener(MouseEvent.MOUSE_OVER, onSubmitOver);			submit_btn.hot.addEventListener(MouseEvent.MOUSE_OUT, onSubmitOut);			submit_btn.hot.addEventListener(MouseEvent.CLICK, onSubmitClick);		}		//*****Core Functionality				public function showWait():void{			wait.visible=true;			TweenLite.to(wait, .1, {alpha:1});		}				public function showFail():void{			fail.visible=true;			TweenLite.to(fail, tweenTime, {alpha:1});		}		//*****Event Handlers				private function onSubmitOver(e:MouseEvent):void{			TweenLite.to(submit_btn.over, tweenTime, {alpha:1});		}				private function onSubmitOut(e:MouseEvent):void{			TweenLite.to(submit_btn.over, tweenTime, {alpha:0});		}				private function onSubmitClick(e:MouseEvent):void{			if(participant_id.text!=""){				appData.eventManager.dispatch("database", {type:"setParticipant", sender:"loginScreen", id:participant_id.text});				appData.eventManager.dispatch("main", {type:"enterFullscreen", sender:"loginScreen"});								showWait();			}		}				private function onLoginScreen(e:MuleEvent):void{			switch(e.data.type){								case "fail":					showFail();				break;							}		}				//*****Gets and Sets						//*****Utility Functions				public function show(){			this.visible = true;		}				public function hide(){			this.visible = false;		}				}}