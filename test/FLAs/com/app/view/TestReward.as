// com.app.TestReward// Adam Riggs//package com.app.view {	import flash.display.Sprite;	import flash.events.*;	import flash.text.TextField;	import flash.text.TextFormat;	import flash.filters.GlowFilter;	import flash.filters.DropShadowFilter;	import flash.utils.Timer;		import gs.TweenLite;		import com.adam.utils.AppData;	import com.adam.events.MuleEvent;		public class TestReward extends Sprite {				private var appData:AppData=AppData.instance;				private var rewardText:TextField;		private var rewardFormat:TextFormat;		private var rewardTweenTime:Number;				private var rewardGlow,rewardBlackGlow:GlowFilter;		private var rewardDropShadow:DropShadowFilter;				private var rewardTimer:Timer;		private var rewardInterval:uint;				private var rewardHot:Sprite;				public function TestReward(){						init();		}		//*****Initialization Routines				public function init(){			//this.visible = false;			trace("TestReward() init");						initVars();			initHot();			initTextFormat();			initTextFilters();			initText();			initRewardTimer();						buttonMode=true;		}				private function initVars():void{			rewardTweenTime=.5;		}				private function initHot():void{			rewardHot=new Sprite();			rewardHot.alpha=0;			rewardHot.buttonMode=true;			//rewardHot.addEventListener(MouseEvent.CLICK, onClick);			addChild(rewardHot);		}				private function initTextFormat():void{			rewardFormat=new TextFormat();			rewardFormat.size=24;		}				private function initTextFilters():void{						//GlowFilter(color:uint = 0xFF0000, alpha:Number = 1.0, blurX:Number = 6.0, blurY:Number = 6.0, strength:Number = 2, quality:int = 1, inner:Boolean = false, knockout:Boolean = false)			rewardGlow=new GlowFilter(0xFFFFFF,.8,30,30,3);			rewardBlackGlow=new GlowFilter(0x000000,.8,30,30,3);						rewardDropShadow=new DropShadowFilter();			rewardDropShadow.distance=0;			rewardDropShadow.angle=45;			rewardDropShadow.color=0xFFFFFF;			rewardDropShadow.alpha=.5;			rewardDropShadow.blurX=10;			rewardDropShadow.blurY=10;			rewardDropShadow.strength=10;			rewardDropShadow.quality=15;			rewardDropShadow.inner=false;			rewardDropShadow.hideObject=false;		}				private function initText():void{			rewardText=new TextField();			rewardText.htmlText="$.05";			rewardText.autoSize="left";			rewardText.selectable=false;						rewardText.setTextFormat(rewardFormat);						rewardText.filters=[rewardGlow,rewardBlackGlow,rewardDropShadow];						addChildAt(rewardText,0);			resizeHot();		}				private function initRewardTimer():void{			rewardInterval=5000;			rewardTimer=new Timer(rewardInterval,1);			rewardTimer.addEventListener("timer", onRewardTimer);		}		//*****Core Functionality				private function resizeHot():void{			rewardHot.graphics.clear();			rewardHot.graphics.beginFill(0x000000);			rewardHot.graphics.drawRect(0,0,rewardText.width,rewardText.height);		}				private function resetRewardTimer():void{			rewardTimer.stop();			rewardTimer.reset();			appData.eventManager.dispatch("testModel", {type:"rewardHidden", sender:"testReward"});		}				//*****Event Handlers				private function onRewardTimer(e:TimerEvent):void{			hide();		}		//*****Gets and Sets						//*****Utility Functions				public function show():void{			trace("testReward.show()");			x=appData.stageWidth-width-5;			y=10;			alpha=1;			visible=true;			resetRewardTimer();			rewardTimer.start();		}				public function hide():void{			trace("testReward.hide()");			visible = false;			resetRewardTimer();		}				public function collect():void{			TweenLite.to(this, rewardTweenTime,{x:0, alpha:0});			resetRewardTimer();		}				}}